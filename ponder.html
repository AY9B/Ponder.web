<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ponder - Your Mental Wellness Companion</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Manrope:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-peach: #FFB4A2;
            --primary-rose: #E5989B;
            --primary-mauve: #B5838D;
            --primary-sage: #A8DADC;
            --primary-cream: #FFF8F0;
            --primary-mint: #D4F1E8;
            --text-dark: #2D3142;
            --text-light: #6B7280;
            --accent-coral: #FF6B6B;
            --accent-gold: #FFD93D;
            --gradient-warm: linear-gradient(135deg, var(--primary-peach) 0%, var(--primary-rose) 100%);
            --gradient-cool: linear-gradient(135deg, var(--primary-sage) 0%, var(--primary-mint) 100%);
            --gradient-sunset: linear-gradient(135deg, #FFB4A2 0%, #E5989B 50%, #B5838D 100%);
            --shadow-soft: 0 4px 20px rgba(229, 152, 155, 0.15);
            --shadow-lifted: 0 8px 30px rgba(229, 152, 155, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Manrope', sans-serif;
            background: var(--primary-cream);
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Background decoration */
        body::before {
            content: '';
            position: fixed;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(168, 218, 220, 0.1) 0%, transparent 70%);
            pointer-events: none;
            animation: float 20s ease-in-out infinite;
            z-index: 0;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(-30px, -30px) rotate(120deg); }
            66% { transform: translate(30px, 30px) rotate(240deg); }
        }

        /* Header */
        header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 1.5rem 2rem;
            box-shadow: var(--shadow-soft);
            position: sticky;
            top: 0;
            z-index: 1000;
            animation: slideDown 0.6s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 700;
            background: var(--gradient-sunset);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo::before {
            content: '‚ú®';
            -webkit-text-fill-color: initial;
            animation: sparkle 2s ease-in-out infinite;
        }

        @keyframes sparkle {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.2) rotate(180deg); opacity: 0.8; }
        }

        nav {
            display: flex;
            gap: 2rem;
        }

        .nav-btn {
            background: none;
            border: none;
            font-family: 'Manrope', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-dark);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem 0;
        }

        .nav-btn::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient-warm);
            transition: width 0.3s ease;
        }

        .nav-btn:hover::after,
        .nav-btn.active::after {
            width: 100%;
        }

        .nav-btn.active {
            color: var(--primary-rose);
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
            position: relative;
            z-index: 1;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 4rem 0;
            animation: fadeInUp 0.8s ease-out;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: var(--gradient-sunset);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.25rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto 2rem;
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: var(--shadow-soft);
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: var(--shadow-lifted);
            transform: translateY(-2px);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .card-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        /* Mood Tracker */
        .mood-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .day-card {
            background: var(--primary-cream);
            border-radius: 15px;
            padding: 1.5rem 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .day-card:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-soft);
        }

        .day-card.selected {
            border-color: var(--primary-rose);
            background: linear-gradient(135deg, rgba(255, 180, 162, 0.2), rgba(229, 152, 155, 0.2));
        }

        .day-name {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .mood-selector {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .mood-option {
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.2s ease;
            opacity: 0.3;
        }

        .mood-option:hover {
            transform: scale(1.2);
            opacity: 1;
        }

        .mood-option.selected {
            opacity: 1;
            animation: bounce 0.5s ease;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        .week-summary {
            background: var(--gradient-cool);
            border-radius: 15px;
            padding: 2rem;
            margin-top: 2rem;
            text-align: center;
        }

        .week-summary h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
        }

        .average-mood {
            font-size: 3rem;
            margin: 1rem 0;
        }

        /* Controls */
        .controls {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btn {
            background: var(--gradient-warm);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            font-family: 'Manrope', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-soft);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lifted);
        }

        .btn-secondary {
            background: white;
            color: var(--primary-rose);
            border: 2px solid var(--primary-rose);
        }

        select {
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            border: 2px solid var(--primary-rose);
            font-family: 'Manrope', sans-serif;
            font-size: 1rem;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        select:focus {
            outline: none;
            box-shadow: var(--shadow-soft);
        }

        /* Diary Section */
        .diary-container {
            perspective: 1000px;
        }

        .diary-book {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
            border-radius: 10px;
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            transform-style: preserve-3d;
        }

        .diary-book::before {
            content: '';
            position: absolute;
            top: 0;
            left: 20px;
            width: 3px;
            height: 100%;
            background: linear-gradient(to bottom, #654321, #8B4513);
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
        }

        .diary-page {
            background: linear-gradient(to right, #FFFEF0 0%, #FFF9E6 100%);
            border-radius: 5px;
            padding: 3rem;
            min-height: 500px;
            box-shadow: inset 0 0 20px rgba(139, 69, 19, 0.1);
            position: relative;
            background-image: 
                repeating-linear-gradient(
                    transparent,
                    transparent 31px,
                    rgba(139, 69, 19, 0.1) 31px,
                    rgba(139, 69, 19, 0.1) 32px
                );
        }

        .diary-page::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 40px;
            height: 100%;
            background: linear-gradient(to right, rgba(255, 200, 150, 0.3), transparent);
            border-right: 2px solid rgba(139, 69, 19, 0.2);
        }

        .diary-date {
            font-family: 'Playfair Display', serif;
            font-size: 1.2rem;
            color: var(--primary-mauve);
            margin-bottom: 1.5rem;
            padding-left: 50px;
        }

        .diary-input {
            width: 100%;
            min-height: 300px;
            background: transparent;
            border: none;
            font-family: 'Playfair Display', serif;
            font-size: 1.1rem;
            color: var(--text-dark);
            resize: vertical;
            line-height: 32px;
            padding-left: 50px;
        }

        .diary-input:focus {
            outline: none;
        }

        .diary-input::placeholder {
            color: rgba(45, 49, 66, 0.3);
            font-style: italic;
        }

        .diary-entries {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .diary-entry-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: var(--shadow-soft);
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid var(--primary-rose);
        }

        .diary-entry-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lifted);
        }

        .entry-date {
            font-weight: 600;
            color: var(--primary-rose);
            margin-bottom: 0.5rem;
        }

        .entry-preview {
            color: var(--text-light);
            font-size: 0.95rem;
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* Resources Section */
        .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .resource-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: var(--shadow-soft);
            transition: all 0.3s ease;
            border-top: 4px solid var(--primary-rose);
        }

        .resource-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lifted);
        }

        .resource-card h3 {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--text-dark);
            margin-bottom: 1rem;
        }

        .resource-card p {
            color: var(--text-light);
            margin-bottom: 1rem;
            line-height: 1.8;
        }

        .resource-card .advice {
            background: var(--primary-mint);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            font-size: 0.95rem;
            border-left: 3px solid var(--primary-sage);
        }

        .resource-card .advice strong {
            color: var(--primary-mauve);
            display: block;
            margin-bottom: 0.5rem;
        }

        /* Crisis Section */
        .crisis-alert {
            background: linear-gradient(135deg, #FF6B6B 0%, #E5989B 100%);
            color: white;
            padding: 2rem;
            border-radius: 20px;
            margin-bottom: 2rem;
            text-align: center;
            box-shadow: var(--shadow-lifted);
        }

        .crisis-alert h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .crisis-search {
            display: flex;
            gap: 1rem;
            margin: 2rem 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .crisis-search input {
            flex: 1;
            padding: 1rem;
            border-radius: 25px;
            border: none;
            font-family: 'Manrope', sans-serif;
            font-size: 1rem;
        }

        .hotline-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .hotline-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: var(--shadow-soft);
            border-left: 4px solid var(--accent-coral);
        }

        .hotline-card h3 {
            font-family: 'Playfair Display', serif;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .hotline-card .number {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--accent-coral);
            margin: 1rem 0;
        }

        .hotline-card .hours {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Animations for sections */
        .stagger-item {
            animation: staggerIn 0.5s ease-out backwards;
        }

        @keyframes staggerIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .mood-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            nav {
                flex-direction: column;
                gap: 1rem;
            }

            .resources-grid,
            .hotline-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">Ponder</div>
            <nav>
                <button class="nav-btn active" data-section="home">Home</button>
                <button class="nav-btn" data-section="mood">Mood Tracker</button>
                <button class="nav-btn" data-section="diary">Diary</button>
                <button class="nav-btn" data-section="resources">Resources</button>
                <button class="nav-btn" data-section="crisis">Crisis Support</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <!-- Home Section -->
        <section id="home" class="section active">
            <div class="hero">
                <h1>Welcome to Ponder</h1>
                <p>Your personal sanctuary for mental wellness, self-reflection, and growth. Track your mood, journal your thoughts, and access professional resources whenever you need them.</p>
            </div>

            <div class="card">
                <h2 class="card-title">Quick Start</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 2rem;">
                    <div style="text-align: center; padding: 2rem; background: var(--primary-mint); border-radius: 15px;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üòä</div>
                        <h3 style="font-family: 'Playfair Display', serif; margin-bottom: 0.5rem;">Track Your Mood</h3>
                        <p style="color: var(--text-light);">Monitor your emotional wellbeing throughout the week</p>
                    </div>
                    <div style="text-align: center; padding: 2rem; background: var(--primary-cream); border-radius: 15px;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üìî</div>
                        <h3 style="font-family: 'Playfair Display', serif; margin-bottom: 0.5rem;">Write Your Thoughts</h3>
                        <p style="color: var(--text-light);">Express yourself in your personal diary</p>
                    </div>
                    <div style="text-align: center; padding: 2rem; background: rgba(255, 180, 162, 0.3); border-radius: 15px;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üí°</div>
                        <h3 style="font-family: 'Playfair Display', serif; margin-bottom: 0.5rem;">Learn & Grow</h3>
                        <p style="color: var(--text-light);">Access professional mental health resources</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Mood Tracker Section -->
        <section id="mood" class="section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Mood Tracker</h2>
                    <div class="controls">
                        <select id="weekSort">
                            <option value="current">Current Week</option>
                            <option value="last">Last Week</option>
                            <option value="all">All Weeks</option>
                        </select>
                        <button class="btn" onclick="saveWeek()">Save Week</button>
                    </div>
                </div>

                <div class="mood-grid" id="moodGrid"></div>

                <div class="week-summary" id="weekSummary" style="display: none;">
                    <h3>Weekly Average</h3>
                    <div class="average-mood" id="averageMood"></div>
                    <p id="averageText"></p>
                </div>
            </div>

            <div class="card" id="pastWeeks" style="display: none;">
                <h2 class="card-title">Past Weeks</h2>
                <div id="weekHistory"></div>
            </div>
        </section>

        <!-- Diary Section -->
        <section id="diary" class="section">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">My Diary</h2>
                    <div class="controls">
                        <select id="diarySort">
                            <option value="newest">Newest First</option>
                            <option value="oldest">Oldest First</option>
                        </select>
                    </div>
                </div>

                <div class="diary-container">
                    <div class="diary-book">
                        <div class="diary-page">
                            <div class="diary-date" id="currentDate"></div>
                            <textarea 
                                class="diary-input" 
                                id="diaryText"
                                placeholder="Dear Diary,

What's on your mind today? This is your safe space to express anything you're feeling..."
                            ></textarea>
                            <div style="margin-top: 2rem; padding-left: 50px;">
                                <button class="btn" onclick="saveDiaryEntry()">Save Entry</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 3rem;">
                    <h3 style="font-family: 'Playfair Display', serif; font-size: 1.8rem; margin-bottom: 1.5rem;">Past Entries</h3>
                    <div class="diary-entries" id="diaryEntries"></div>
                </div>
            </div>
        </section>

        <!-- Resources Section -->
        <section id="resources" class="section">
            <div class="card">
                <h2 class="card-title" style="margin-bottom: 2rem;">Mental Health Resources</h2>
                
                <div class="resources-grid">
                    <div class="resource-card stagger-item" style="animation-delay: 0.1s;">
                        <h3>üß† Anxiety Disorders</h3>
                        <p><strong>Types:</strong> Generalized Anxiety Disorder (GAD), Social Anxiety, Panic Disorder</p>
                        <p>Anxiety disorders involve persistent, excessive worry that interferes with daily activities. Symptoms include restlessness, rapid heartbeat, difficulty concentrating, and sleep disturbances.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            Cognitive Behavioral Therapy (CBT) is highly effective for anxiety, with 60-80% of patients showing significant improvement. Practice progressive muscle relaxation and the 4-7-8 breathing technique (breathe in for 4, hold for 7, exhale for 8). Studies from the Journal of Clinical Psychology show that regular exercise reduces anxiety symptoms by 20-30%.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 0.2s;">
                        <h3>üíô Depression & Low Mood</h3>
                        <p>Depression is characterized by persistent sadness, loss of interest, changes in appetite or sleep, fatigue, and feelings of worthlessness.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            The combination of psychotherapy and medication shows 70-80% effectiveness rates according to the American Psychological Association. Behavioral activation‚Äîscheduling pleasant activities even when unmotivated‚Äîhas proven outcomes. Studies show that 30 minutes of moderate exercise 3-5 times per week can be as effective as antidepressants for mild to moderate depression. Sunlight exposure and maintaining social connections are critical protective factors.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 0.3s;">
                        <h3>‚ö° Chronic Stress & Burnout</h3>
                        <p>Prolonged stress leading to physical and emotional exhaustion, cynicism, and reduced professional efficacy.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            Research in Occupational Health Psychology emphasizes the importance of setting boundaries between work and personal life. The Pomodoro Technique (25-minute focused work periods with 5-minute breaks) improves productivity while reducing stress. Mindfulness-based stress reduction (MBSR) programs show significant improvements in 8 weeks. Prioritize sleep hygiene‚Äîadults need 7-9 hours nightly for optimal stress regulation.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 0.4s;">
                        <h3>üò¥ Sleep Disturbances & Insomnia</h3>
                        <p>Difficulty falling asleep, staying asleep, or waking too early, leading to daytime fatigue and impaired functioning.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            Cognitive Behavioral Therapy for Insomnia (CBT-I) is the first-line treatment with 70-80% effectiveness. Maintain a consistent sleep schedule within 30 minutes daily. Avoid screens 1 hour before bed‚Äîblue light suppresses melatonin. Keep bedroom temperature between 60-67¬∞F. If unable to sleep after 20 minutes, leave the bedroom and return only when sleepy. Avoid caffeine after 2 PM and alcohol before bed.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 0.5s;">
                        <h3>üçΩÔ∏è Eating Disorders</h3>
                        <p>Serious conditions including anorexia, bulimia, and binge eating disorder that involve extreme emotions and attitudes about food and weight.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            Enhanced Cognitive Behavioral Therapy (CBT-E) shows 50-60% recovery rates. Family-Based Treatment (FBT) is highly effective for adolescents. Early intervention is critical‚Äîeating disorders have the highest mortality rate of any psychiatric disorder. Regular, structured meals and snacks prevent binge-restrict cycles. Work with a multidisciplinary team including therapist, dietitian, and physician. Challenge food rules gradually and focus on health rather than weight.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 0.6s;">
                        <h3>üö≠ Substance Misuse</h3>
                        <p>Harmful or hazardous use of psychoactive substances including alcohol and drugs, leading to dependence syndrome.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            Motivational Interviewing combined with CBT shows high effectiveness. The SMART Recovery program offers science-based mutual support. Medication-Assisted Treatment (MAT) significantly improves outcomes for opioid and alcohol dependence. Identify triggers and develop coping strategies. Studies show that having a support system increases recovery success by 40%. Replace substance use with healthy activities that trigger dopamine release. Relapse is common‚Äîit's part of recovery, not failure.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 0.7s;">
                        <h3>üéØ ADHD</h3>
                        <p>Attention-Deficit/Hyperactivity Disorder involves persistent inattention, hyperactivity, and impulsivity that interferes with functioning.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            Combination of medication and behavioral interventions is most effective. Use external structure: timers, checklists, and organizational systems. Break tasks into smaller steps. The Pomodoro Technique works well for ADHD. Regular exercise improves focus and reduces hyperactivity. Adequate sleep is crucial‚ÄîADHD symptoms worsen with sleep deprivation. Fidget tools can actually improve concentration for some. Celebrate small wins to maintain motivation.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 0.8s;">
                        <h3>ü§ù Loneliness & Social Isolation</h3>
                        <p>Perceived lack of connection with others, which can have serious physical and mental health consequences.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            Studies show loneliness impacts health similar to smoking 15 cigarettes daily. Focus on quality over quantity of relationships. Join groups aligned with your interests‚Äîshared activities naturally build connections. Volunteering reduces loneliness while boosting wellbeing. Practice self-compassion‚Äîloneliness is common and not a character flaw. Digital connections can help but should supplement, not replace, in-person interaction. Call or video chat rather than texting for deeper connection.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 0.9s;">
                        <h3>üíî Self-Harm & Suicidal Ideation</h3>
                        <p>Deliberate self-injury or thoughts about ending one's life‚Äîboth require immediate professional attention.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            Dialectical Behavior Therapy (DBT) is highly effective for reducing self-harm behaviors. Safety planning reduces suicide risk significantly. Use the TIPP skill in crisis: Temperature (cold water on face), Intense exercise, Paced breathing, Progressive muscle relaxation. Delay urges‚Äîthey typically pass in 15-30 minutes. Call a crisis line immediately when having thoughts of suicide. Remove means of self-harm from environment. Tell someone you trust. Recovery is possible‚Äîsuicidal feelings are temporary.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 1.0s;">
                        <h3>üîÑ OCD</h3>
                        <p>Obsessive-Compulsive Disorder involves intrusive thoughts (obsessions) and repetitive behaviors (compulsions) to reduce anxiety.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            Exposure and Response Prevention (ERP) is the gold standard treatment with 60-70% showing significant improvement. Gradually expose yourself to triggers while resisting compulsions‚Äîanxiety naturally decreases. OCD thoughts are not facts or desires. Mindfulness helps observe thoughts without judgment. Avoid seeking reassurance, which reinforces the cycle. Practice delaying compulsions, gradually increasing the delay time. Recovery is possible but requires consistent practice and often professional guidance.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 1.1s;">
                        <h3>üå™Ô∏è PTSD</h3>
                        <p>Post-Traumatic Stress Disorder develops after exposure to traumatic events, causing intrusive memories, avoidance, and hyperarousal.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            Trauma-Focused CBT and EMDR (Eye Movement Desensitization and Reprocessing) show 60-80% improvement rates. Grounding techniques help during flashbacks: 5-4-3-2-1 method (5 things you see, 4 you hear, 3 you touch, 2 you smell, 1 you taste). Establish safety and routine. Avoid alcohol and substances. Regular exercise helps process trauma. Connect with supportive people. Healing is not linear‚Äîexpect ups and downs. Professional treatment is crucial.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 1.2s;">
                        <h3>ü™û Body Dysmorphia & Low Self-Esteem</h3>
                        <p>Preoccupation with perceived flaws in appearance and persistent negative self-evaluation.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            CBT specifically targeting body image shows significant improvements. Limit mirror checking and comparing to others. Social media breaks improve body image‚Äîalgorithms often show unrealistic standards. Challenge negative self-talk with evidence. Focus on functionality over appearance. Practice self-compassion‚Äîtalk to yourself as you would a friend. Curate social media to include diverse body types. Accomplishments and character define worth, not appearance. Professional help is effective.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 1.3s;">
                        <h3>üè† Homesickness</h3>
                        <p>Distress caused by separation from home, common in students, travelers, and those who've relocated.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            Stay connected to home while building new connections. Establish routines quickly‚Äîfamiliarity reduces anxiety. Bring meaningful items from home. Join clubs and activities to meet others in similar situations. Allow yourself to feel sad‚Äîit's a normal adjustment response. Most homesickness significantly improves within 6-8 weeks. Create a "home away from home" space. Explore your new environment. Remember: feeling homesick doesn't mean you made the wrong decision.
                        </div>
                    </div>

                    <div class="resource-card stagger-item" style="animation-delay: 1.4s;">
                        <h3>üí∞ Financial Stress</h3>
                        <p>Anxiety and worry related to money, debt, and financial security, affecting mental and physical health.</p>
                        <div class="advice">
                            <strong>Evidence-Based Advice:</strong>
                            Financial therapy combines practical money management with emotional support. Create a realistic budget‚Äîawareness reduces anxiety. The 50/30/20 rule: 50% needs, 30% wants, 20% savings. Automate bill payments and savings to reduce mental load. Seek free financial counseling through non-profits. Focus on small, consistent actions rather than perfection. Avoid comparing your finances to others‚Äîeveryone's situation differs. Build emergency fund gradually‚Äîeven small amounts help. Consider income-based repayment for loans.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Crisis Support Section -->
        <section id="crisis" class="section">
            <div class="crisis-alert">
                <h2>üÜò Crisis Support Available 24/7</h2>
                <p>If you're in immediate danger or experiencing a mental health emergency, please reach out to these helplines. You are not alone, and help is available.</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Find Support in Your Country</h2>
                    <div class="crisis-search">
                        <input type="text" id="countrySearch" placeholder="Search by country name..." oninput="filterHotlines()">
                    </div>
                </div>

                <div class="hotline-grid" id="hotlineGrid"></div>
            </div>
        </section>
    </div>

    <script>
        // Data Storage
        let userData = {
            moods: {},
            diary: [],
            weekHistory: []
        };

        // Load data from storage
        async function loadData() {
            try {
                const moodsData = await window.storage.get('ponder_moods', false);
                const diaryData = await window.storage.get('ponder_diary', false);
                const weekHistoryData = await window.storage.get('ponder_week_history', false);
                
                if (moodsData) userData.moods = JSON.parse(moodsData.value);
                if (diaryData) userData.diary = JSON.parse(diaryData.value);
                if (weekHistoryData) userData.weekHistory = JSON.parse(weekHistoryData.value);
            } catch (error) {
                console.log('No previous data found, starting fresh');
            }
        }

        // Save data to storage
        async function saveData() {
            try {
                await window.storage.set('ponder_moods', JSON.stringify(userData.moods), false);
                await window.storage.set('ponder_diary', JSON.stringify(userData.diary), false);
                await window.storage.set('ponder_week_history', JSON.stringify(userData.weekHistory), false);
            } catch (error) {
                console.error('Error saving data:', error);
            }
        }

        // Navigation
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const section = btn.dataset.section;
                
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                document.getElementById(section).classList.add('active');

                if (section === 'mood') initMoodTracker();
                if (section === 'diary') initDiary();
                if (section === 'crisis') initCrisisSupport();
            });
        });

        // Mood Tracker
        const moods = [
            { emoji: 'üòÑ', value: 5, label: 'Amazing' },
            { emoji: 'üòä', value: 4, label: 'Good' },
            { emoji: 'üòê', value: 3, label: 'Okay' },
            { emoji: 'üòî', value: 2, label: 'Low' },
            { emoji: 'üò¢', value: 1, label: 'Struggling' }
        ];

        function initMoodTracker() {
            const grid = document.getElementById('moodGrid');
            const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
            
            grid.innerHTML = days.map((day, index) => `
                <div class="day-card" id="day-${index}">
                    <div class="day-name">${day}</div>
                    <div class="mood-selector">
                        ${moods.map(mood => `
                            <span class="mood-option" data-day="${index}" data-mood="${mood.value}" data-emoji="${mood.emoji}" title="${mood.label}">
                                ${mood.emoji}
                            </span>
                        `).join('')}
                    </div>
                </div>
            `).join('');

            // Load saved moods
            const currentWeek = getCurrentWeek();
            if (userData.moods[currentWeek]) {
                Object.entries(userData.moods[currentWeek]).forEach(([day, mood]) => {
                    const dayCard = document.getElementById(`day-${day}`);
                    const moodOption = dayCard.querySelector(`[data-mood="${mood.value}"]`);
                    if (moodOption) {
                        moodOption.classList.add('selected');
                        dayCard.classList.add('selected');
                    }
                });
                updateWeekSummary();
            }

            // Add event listeners
            document.querySelectorAll('.mood-option').forEach(option => {
                option.addEventListener('click', function() {
                    const day = this.dataset.day;
                    const mood = this.dataset.mood;
                    const emoji = this.dataset.emoji;
                    
                    const dayCard = document.getElementById(`day-${day}`);
                    dayCard.querySelectorAll('.mood-option').forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    dayCard.classList.add('selected');
                    
                    const currentWeek = getCurrentWeek();
                    if (!userData.moods[currentWeek]) userData.moods[currentWeek] = {};
                    userData.moods[currentWeek][day] = { value: parseInt(mood), emoji };
                    
                    saveData();
                    updateWeekSummary();
                });
            });
        }

        function getCurrentWeek() {
            const now = new Date();
            const start = new Date(now.getFullYear(), 0, 1);
            const diff = now - start;
            const oneWeek = 1000 * 60 * 60 * 24 * 7;
            return Math.floor(diff / oneWeek);
        }

        function updateWeekSummary() {
            const currentWeek = getCurrentWeek();
            const weekData = userData.moods[currentWeek];
            
            if (!weekData || Object.keys(weekData).length === 0) {
                document.getElementById('weekSummary').style.display = 'none';
                return;
            }

            const values = Object.values(weekData).map(m => m.value);
            const average = values.reduce((a, b) => a + b, 0) / values.length;
            const roundedAvg = Math.round(average);
            
            const avgMood = moods.find(m => m.value === roundedAvg);
            
            document.getElementById('weekSummary').style.display = 'block';
            document.getElementById('averageMood').textContent = avgMood.emoji;
            document.getElementById('averageText').textContent = `Your average mood this week is ${avgMood.label} (${average.toFixed(1)}/5)`;
        }

        function saveWeek() {
            const currentWeek = getCurrentWeek();
            const weekData = userData.moods[currentWeek];
            
            if (!weekData || Object.keys(weekData).length === 0) {
                alert('Please track at least one day before saving the week.');
                return;
            }

            const values = Object.values(weekData).map(m => m.value);
            const average = values.reduce((a, b) => a + b, 0) / values.length;
            
            userData.weekHistory.push({
                week: currentWeek,
                date: new Date().toLocaleDateString(),
                moods: { ...weekData },
                average: average.toFixed(1)
            });
            
            saveData();
            alert('Week saved successfully! Starting a new week.');
            
            // Clear current week
            userData.moods[currentWeek] = {};
            saveData();
            initMoodTracker();
        }

        // Diary
        function initDiary() {
            const dateElement = document.getElementById('currentDate');
            const now = new Date();
            dateElement.textContent = now.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            loadDiaryEntries();
        }

        function saveDiaryEntry() {
            const text = document.getElementById('diaryText').value.trim();
            
            if (!text) {
                alert('Please write something before saving.');
                return;
            }

            const entry = {
                id: Date.now(),
                date: new Date().toISOString(),
                text: text
            };

            userData.diary.push(entry);
            saveData();
            
            document.getElementById('diaryText').value = '';
            alert('Entry saved successfully!');
            loadDiaryEntries();
        }

        function loadDiaryEntries() {
            const container = document.getElementById('diaryEntries');
            const sortBy = document.getElementById('diarySort').value;
            
            let entries = [...userData.diary];
            
            if (sortBy === 'newest') {
                entries.sort((a, b) => new Date(b.date) - new Date(a.date));
            } else {
                entries.sort((a, b) => new Date(a.date) - new Date(b.date));
            }

            if (entries.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: var(--text-light); padding: 2rem;">No diary entries yet. Start writing to see your entries here.</p>';
                return;
            }

            container.innerHTML = entries.map(entry => {
                const date = new Date(entry.date);
                return `
                    <div class="diary-entry-card" onclick="viewEntry(${entry.id})">
                        <div class="entry-date">${date.toLocaleDateString('en-US', { 
                            weekday: 'short',
                            year: 'numeric', 
                            month: 'short', 
                            day: 'numeric' 
                        })}</div>
                        <div class="entry-preview">${entry.text}</div>
                    </div>
                `;
            }).join('');
        }

        function viewEntry(id) {
            const entry = userData.diary.find(e => e.id === id);
            if (entry) {
                alert(`Entry from ${new Date(entry.date).toLocaleDateString()}:\n\n${entry.text}`);
            }
        }

        document.getElementById('diarySort').addEventListener('change', loadDiaryEntries);

        // Crisis Support
        const hotlines = [
            { country: 'United States', number: '988', name: 'Suicide & Crisis Lifeline', hours: '24/7' },
            { country: 'United States', number: '1-800-273-8255', name: 'National Suicide Prevention Lifeline', hours: '24/7' },
            { country: 'United Kingdom', number: '116 123', name: 'Samaritans', hours: '24/7' },
            { country: 'Canada', number: '1-833-456-4566', name: 'Crisis Services Canada', hours: '24/7' },
            { country: 'Australia', number: '13 11 14', name: 'Lifeline Australia', hours: '24/7' },
            { country: 'New Zealand', number: '1737', name: 'Need to Talk?', hours: '24/7' },
            { country: 'Ireland', number: '116 123', name: 'Samaritans Ireland', hours: '24/7' },
            { country: 'India', number: '9152987821', name: 'AASRA', hours: '24/7' },
            { country: 'South Africa', number: '0800 567 567', name: 'South African Depression and Anxiety Group', hours: '24/7' },
            { country: 'Germany', number: '0800 111 0 111', name: 'Telefonseelsorge', hours: '24/7' },
            { country: 'France', number: '3114', name: 'National Suicide Prevention Line', hours: '24/7' },
            { country: 'Spain', number: '024', name: 'Suicide Prevention Line', hours: '24/7' },
            { country: 'Italy', number: '800 86 00 22', name: 'Telefono Amico', hours: '24/7' },
            { country: 'Japan', number: '0120-783-556', name: 'TELL Lifeline', hours: '9am-11pm Daily' },
            { country: 'South Korea', number: '1393', name: 'Korea Suicide Prevention Center', hours: '24/7' },
            { country: 'Brazil', number: '188', name: 'CVV - Centro de Valoriza√ß√£o da Vida', hours: '24/7' },
            { country: 'Mexico', number: '800 290 0024', name: 'L√≠nea de la Vida', hours: '24/7' },
            { country: 'Argentina', number: '135', name: 'Centro de Atenci√≥n al Suicida', hours: '24/7' },
            { country: 'Netherlands', number: '0800 0113', name: 'Foundation 113 Suicide Prevention', hours: '24/7' },
            { country: 'Belgium', number: '1813', name: 'Suicide Prevention Center', hours: '24/7' },
            { country: 'Sweden', number: '90101', name: 'Mind', hours: '24/7' },
            { country: 'Norway', number: '116 123', name: 'Mental Helse', hours: '24/7' },
            { country: 'Denmark', number: '70 201 201', name: 'Livslinjen', hours: '24/7' },
            { country: 'Finland', number: '09 2525 0111', name: 'Crisis Helpline', hours: '24/7' },
            { country: 'Switzerland', number: '143', name: 'Die Dargebotene Hand', hours: '24/7' },
            { country: 'Austria', number: '142', name: 'Telefonseelsorge', hours: '24/7' },
            { country: 'Poland', number: '116 123', name: 'Telefon Zaufania', hours: '24/7' },
            { country: 'Portugal', number: '225 50 60 70', name: 'SOS Voz Amiga', hours: '24/7' },
            { country: 'Greece', number: '1018', name: 'Suicide Help Line', hours: '24/7' },
            { country: 'Israel', number: '1201', name: 'ERAN', hours: '24/7' },
            { country: 'Singapore', number: '1767', name: 'Samaritans of Singapore', hours: '24/7' },
            { country: 'Malaysia', number: '03-7956 8145', name: 'Befrienders KL', hours: '24/7' },
            { country: 'Philippines', number: '02 893 7603', name: 'Natasha Goulbourn Foundation', hours: '24/7' },
            { country: 'Hong Kong', number: '2382 0000', name: 'Samaritans Hong Kong', hours: '24/7' },
            { country: 'Thailand', number: '1323', name: 'Department of Mental Health Hotline', hours: '24/7' },
            { country: 'International', number: 'www.befrienders.org', name: 'Befrienders Worldwide', hours: 'Find local helpline' }
        ];

        function initCrisisSupport() {
            displayHotlines(hotlines);
        }

        function displayHotlines(lines) {
            const grid = document.getElementById('hotlineGrid');
            grid.innerHTML = lines.map(hotline => `
                <div class="hotline-card">
                    <h3>${hotline.country}</h3>
                    <div class="number">${hotline.number}</div>
                    <p><strong>${hotline.name}</strong></p>
                    <div class="hours">${hotline.hours}</div>
                </div>
            `).join('');
        }

        function filterHotlines() {
            const search = document.getElementById('countrySearch').value.toLowerCase();
            const filtered = hotlines.filter(h => 
                h.country.toLowerCase().includes(search) ||
                h.name.toLowerCase().includes(search)
            );
            displayHotlines(filtered);
        }

        // Initialize
        async function init() {
            await loadData();
            initMoodTracker();
            
            // Add stagger animation to resource cards
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationPlayState = 'running';
                    }
                });
            });

            document.querySelectorAll('.stagger-item').forEach(item => {
                item.style.animationPlayState = 'paused';
                observer.observe(item);
            });
        }

        init();
    </script>
</body>
</html>
